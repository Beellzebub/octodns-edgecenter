{
    "rrsets": [
        {
            "name": "failover.test",
            "type": "A",
            "ttl": 60,
            "meta": {
                "failover": {
                    "frequency": 15,
                    "port": 80,
                    "protocol": "TCP",
                    "timeout": 10,
                    "verify": true
                }
            },
            "filters": [
                {
                    "type": "weighted_shuffle"
                },
                {
                    "limit": 1,
                    "type": "first_n"
                },
                {
                    "type": "is_healthy",
                    "strict": false
                }
            ],
            "resource_records": [
                {
                    "content": [
                        "5.5.5.5"
                    ],
                    "meta": {
                        "weight": 25
                    }
                },
                {
                    "content": [
                        "6.6.6.6"
                    ],
                    "meta": {
                        "weight": 50
                    }
                },
                {
                    "content": [
                        "7.7.7.7"
                    ],
                    "meta": {
                        "weight": 75
                    }
                }
            ]
        },

        {
            "name": "01-other.dynamic.failover.test",
            "type": "A",
            "ttl": 60,
            "meta": {
                "failover": {
                    "frequency": 15,
                    "port": 80,
                    "protocol": "TCP",
                    "timeout": 10,
                    "verify": true
                }
            },
            "filters": [
                {
                    "type": "weighted_shuffle"
                },
                {
                    "limit": 1,
                    "type": "first_n"
                },
                {
                    "type": "is_healthy",
                    "strict": false
                }
            ],
            "resource_records": [
                {
                    "content": [
                        "1.1.1.1"
                    ],
                    "meta": {
                        "default": true
                    }
                },
                {
                    "content": [
                        "2.2.2.2"
                    ],
                    "meta": {
                        "default": true
                    }
                },
                {
                    "content": [
                        "3.3.3.3"
                    ],
                    "meta": {
                        "default": true
                    }
                }
            ]
        },

        {
            "name": "02-other-weight.dynamic.failover.test",
            "type": "A",
            "ttl": 60,
            "meta": {
                "failover": {
                    "frequency": 15,
                    "port": 80,
                    "protocol": "TCP",
                    "timeout": 10,
                    "verify": true
                }
            },
            "filters": [
                {
                    "type": "weighted_shuffle"
                },
                {
                    "limit": 1,
                    "type": "first_n"
                },
                {
                    "type": "is_healthy",
                    "strict": false
                }
            ],
            "resource_records": [
                {
                    "content": [
                        "1.1.1.1"
                    ],
                    "meta": {
                        "default": true
                    }
                },
                {
                    "content": [
                        "2.2.2.2"
                    ],
                    "meta": {
                        "default": true
                    }
                },
                {
                    "content": [
                        "3.3.3.3"
                    ],
                    "meta": {
                        "default": true
                    }
                },
                {
                    "content": [
                        "5.5.5.5"
                    ],
                    "meta": {
                        "weight": 25
                    }
                },
                {
                    "content": [
                        "6.6.6.6"
                    ],
                    "meta": {
                        "weight": 50
                    }
                },
                {
                    "content": [
                        "7.7.7.7"
                    ],
                    "meta": {
                        "weight": 75
                    }
                }
            ]
        },

        {
            "name": "03-default-weight.dynamic.failover.test",
            "type": "A",
            "ttl": 60,
            "meta": {
                "failover": {
                    "frequency": 15,
                    "port": 80,
                    "protocol": "TCP",
                    "timeout": 10,
                    "verify": true
                }
            },
            "filters": [
                {
                    "type": "weighted_shuffle"
                },
                {
                    "limit": 1,
                    "type": "first_n"
                },
                {
                    "type": "is_healthy",
                    "strict": false
                }
            ],
            "resource_records": [
                {
                    "content": [
                        "4.4.4.4"
                    ]
                },
                {
                    "content": [
                        "5.5.5.5"
                    ],
                    "meta": {
                        "weight": 25
                    }
                },
                {
                    "content": [
                        "6.6.6.6"
                    ],
                    "meta": {
                        "weight": 50
                    }
                },
                {
                    "content": [
                        "7.7.7.7"
                    ],
                    "meta": {
                        "weight": 75
                    }
                }
            ]
        },

        {
            "name": "04-default-other.dynamic.failover.test",
            "type": "A",
            "ttl": 60,
            "meta": {
                "failover": {
                    "frequency": 15,
                    "port": 80,
                    "protocol": "TCP",
                    "timeout": 10,
                    "verify": true
                }
            },
            "filters": [
                {
                    "type": "weighted_shuffle"
                },
                {
                    "limit": 1,
                    "type": "first_n"
                },
                {
                    "type": "is_healthy",
                    "strict": false
                }
            ],
            "resource_records": [
                {
                    "content": [
                        "1.1.1.1"
                    ],
                    "meta": {
                        "default": true
                    }
                },
                {
                    "content": [
                        "2.2.2.2"
                    ],
                    "meta": {
                        "default": true
                    }
                },
                {
                    "content": [
                        "3.3.3.3"
                    ],
                    "meta": {
                        "default": true
                    }
                },
                {
                    "content": [
                        "4.4.4.4"
                    ]
                }
            ]
        },

         {
            "name": "05-default-other-weight.dynamic.failover.test",
            "type": "A",
            "ttl": 60,
            "meta": {
                "failover": {
                    "frequency": 15,
                    "port": 80,
                    "protocol": "TCP",
                    "timeout": 10,
                    "verify": true
                }
            },
            "filters": [
                {
                    "type": "weighted_shuffle"
                },
                {
                    "limit": 1,
                    "type": "first_n"
                },
                {
                    "type": "is_healthy",
                    "strict": false
                }
            ],
            "resource_records": [
                {
                    "content": [
                        "1.1.1.1"
                    ],
                    "meta": {
                        "default": true
                    }
                },
                {
                    "content": [
                        "2.2.2.2"
                    ],
                    "meta": {
                        "default": true
                    }
                },
                {
                    "content": [
                        "3.3.3.3"
                    ],
                    "meta": {
                        "default": true
                    }
                },
                {
                    "content": [
                        "4.4.4.4"
                    ]
                },
                {
                    "content": [
                        "5.5.5.5"
                    ],
                    "meta": {
                        "weight": 25
                    }
                },
                {
                    "content": [
                        "6.6.6.6"
                    ],
                    "meta": {
                        "weight": 50
                    }
                },
                {
                    "content": [
                        "7.7.7.7"
                    ],
                    "meta": {
                        "weight": 75
                    }
                }
            ]
        },

        {
            "name": "06-weight.dynamic.failover.test",
            "type": "CNAME",
            "ttl": 300,
            "meta": {
                "failover": {
                    "frequency": 15,
                    "port": 80,
                    "protocol": "TCP",
                    "timeout": 10,
                    "verify": true
                }
            },
            "filters": [
                {
                    "type": "weighted_shuffle"
                },
                {
                    "limit": 1,
                    "type": "first_n"
                },
                {
                    "type": "is_healthy",
                    "strict": false
                }
            ],
            "resource_records": [
                {
                    "content": [
                        "cl-dabdb3fc.edgecdn.ru"
                    ],
                    "meta": {
                        "weight": 1
                    }
                },
                {
                    "content": [
                        "cl-dabdb2fc.edgecdn.ru"
                    ],
                    "meta": {
                        "weight": 1
                    }
                },
                {
                    "content": [
                        "cl-dabdb1fc.edgecdn.ru"
                    ],
                    "meta": {
                        "weight": 1
                    }
                }
            ]
        },

        {
            "name": "07.not-dynamic.failover.test",
            "type": "CNAME",
            "ttl": 300,
            "resource_records": [
                {
                    "content": [
                        "cl-dabdb3fc.edgecdn.ru."
                    ]
                }
            ]
        },

        {
            "name": "08.not-dynamic.failover.test",
            "type": "A",
            "ttl": 300,
            "resource_records": [
                {
                    "content": [
                        "1.1.1.1"
                    ]
                },
                {
                    "content": [
                        "2.2.2.2"
                    ]
                },
                {
                    "content": [
                        "3.3.3.3"
                    ]
                }
            ]
        },

        {
            "name": "09-for-remove.not-dynamic.failover.test",
            "type": "A",
            "ttl": 300,
            "resource_records": [
                {
                    "content": [
                        "1.1.1.1"
                    ]
                },
                {
                    "content": [
                        "2.2.2.2"
                    ]
                },
                {
                    "content": [
                        "3.3.3.3"
                    ]
                }
            ]
        }
    ]
}